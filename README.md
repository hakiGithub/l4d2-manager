# l4d2-manager
用于管理l4d2相关地图以及配置
## 开发需求

#### 需求

​	    实现一个可以管理求生之路相关配置的系统，主要通过用户的权限去管理配置的设定等操作。其中主要功能包括验证用户的权限，设置服务器的配置，启动与更新服务器，获取服务器的地图信息等等。

#### 开发的功能

> - ##### **登录功能**
>
>   1. **登录验证账号密码(不设置注册账号通道)**
>   2. **忘记密码，发送邮件提供更改密码机会**
>   3. **用户权限校验**
>
> - ##### **服务器地图管理**
>
>   1. **展示网络存在的地图信息(可以进行增删查改)**
>   2. **根据数据库存在的地图信息与服务器本地的地图文件进行映射，从而展示服务器现有的地图信息**
>
> - ##### **服务器的配置管理**
>
>   1. **展示服务器可以修改的配置信息（例如管理员配置，或者游戏的属性配置）**
>   2. **对游戏服务器配置修改**
>
> - ##### **服务器的任务处理**
>
>   1. **进行服务器的启动，重启，关闭等操作**
>   2. **展示服务器的状态(运行与关闭状态即可)**
>   3. **对服务器进行更新操作。**

#### 相关技术栈

##### 前端

- thymeleaf
- jquery
- layui

##### 后端

- springBoot
- springSecurity进行校验
- jsoup爬虫技术
- jpa
- sqlite
- swagger

#### 开发规范

##### Controller层

- ​	统一采用ResultBean返回给前端。
- ​    这一层只做返回处理，不做验证校验等处理
- ​    Contoller接收的实体类需要区别于写入数据库的实体类，接收的参数并传输给Service层，由于业务比较简单，因此采用DTO即可

##### Service层

- 主要进行业务逻辑的处理，包括参数校验等操作
- 异常处理基本在这一层进行抛出，尽量不捕获异常
- Service层主要工作将DTO转换成DO，或者说将DO转换成DTO

#### 异常处理

- 参数为null或者不符合要求的逻辑，抛出逻辑异常，主要填写异常的信息

  ```
  Object MapDTO = null;
  if(MapDTO==null){
      throw new IllegalException("传入的地图不允许为null");
  }    
  ```

- 一些登录过期或者权限不足的异常，则抛出自定义异常

  ```
  //例如token没了
  if(token==null){
      //传入的参数有两个一个是状态码，可以在ResultBean设置或者取值，另一个则是异常信息
      throw new CustomException(ResultBean.NO_LOGIN,"你还没进行登录");
  }
  ```

#### API编写

- 需要对返回给前端的API进行编写文档，采用swagger方式
- [集成Swagger在线调试相关文档](https://blog.battcn.com/2018/05/16/springboot/v2-config-swagger/)

#### 未完待续····